---
layout: default
---

<div class="post">
  <h1 class="post-title">{{ page.title }}</h1>
  <span class="post-date">{{ page.date | date_to_string }}</span>
  <span id="readingTime">‚è≤</span>
  {{ content }}

  <script>
    var scriptTag =
      // current script tag is always the last script at time of execution
      document.scripts[document.scripts.length - 1]
    var parentTag = scriptTag.parentNode
  
    const wordsPerMinute = 200; // Average case.
    let result;
    
    let textLength = parentTag.innerText.split(" ").length; // Split by words
    if(textLength > 0){
      let value = Math.ceil(textLength / wordsPerMinute);
      result = `~${value} min read`;
    }
    document.getElementById("readingTime").innerText = result;
  </script>
</div>

<!-- <div id="commento"></div>
<script src="https://cdn.commento.io/js/commento.js"
  data-no-fonts="true"
  data-page-id="{{ page.url | split:'/' | shift | shift | join:'/' }}">
</script> -->

<div class="related">
  <h2>Recent Posts</h2>
  <ul class="related-posts">
    {% for post in site.related_posts limit:3 %}
      <li>
        <h3>
          <a href="{{ post.url }}">
            {{ post.title }}
            <small>{{ post.date | date_to_string }}</small>
          </a>
        </h3>
      </li>
    {% endfor %}
  </ul>
</div>

<!-- prevent line-breaks in links and make open in new tab -->
<!-- TODO: Get rid of jQuery -->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<script>
  $('div.post a')
    .not('[rel="footnote"], [rev="footnote"]')
    .attr('target','_blank');

  window.calcRT = ev => {
    const wordsPerMinute = 200; // Average case.
    let result;
    
    let textLength = ev.value.split(" ").length; // Split by words
    if(textLength > 0){
      let value = Math.ceil(textLength / wordsPerMinute);
      result = `~${value} min read`;
    }
    document.getElementById("readingTime").innerText = result;
  };
</script>